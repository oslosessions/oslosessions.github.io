<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width initial-scale=1">

    <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">

    <script src="{{ "/bower_components/jquery/dist/jquery.min.js" | prepend: site.baseurl }}"></script>
    <script src="{{ "/bower_components/froogaloop/froogaloop.min.js" | prepend: site.baseurl }}"></script>

    <link rel="stylesheet" href="{{ "/style/css/dev.css" | prepend: site.baseurl }}">
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">

    <link rel="alternate" type="application/atom+xml" title="{{ site.title }}" href="{{ "/feed.xml" | prepend: site.baseurl | prepend: site.url }}" />

    <script>
        $(function () {
            $('a[href*=#]:not([href=#])').click(function () {
                if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
                    var target = $(this.hash);
                    target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                    if (target.length) {
                        $('html,body').animate({
                        scrollTop: target.offset().top
                        }, 500);
                    return false;
                    }
                }
            });
        });


        $(document).ready(function() {

            var iframe = $('.video')[0],
                    player = $f(iframe);

            player.addEvent('ready', function () {
                console.log('video ready');

                player.addEvent('pause', onPause);
                player.addEvent('finish', onFinish);
                player.addEvent('playProgress', onPlayProgress);
            });

            // Call the API when a button is pressed
            $('button').bind('click', function () {
                player.api($(this).text().toLowerCase());
                console.log('clicked');
            });


            function onPause(id) {
                console.log('paused');
                $(this).parents('.videoContainer').attr('data-video-status','paused');
            }

            function onFinish(id, $target) {
                console.log('finished');
                $(this).parents('.videoContainer').attr('data-video-status','finished');
            }

            function onPlayProgress(data, id, $target) {
                console.log(data.seconds + 's played');
                $(this).parents('.videoContainer').attr('data-video-status','playing');
            }

        });

    </script>
</head>
